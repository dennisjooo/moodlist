2025-10-31 20:42:28 [info     ] Using in-memory cache (no Valkey/Redis URL provided)
2025-10-31 20:42:28 [info     ] Using in-memory cache (no Valkey/Redis URL provided)
2025-10-31 20:42:28 [info     ] Registered tool: get_track_recommendations
2025-10-31 20:42:28 [info     ] Registered tool: get_multiple_tracks
2025-10-31 20:42:28 [info     ] Registered tool: get_track_audio_features
2025-10-31 20:42:28 [info     ] Registered tool: search_artists
2025-10-31 20:42:28 [info     ] Registered tool: get_multiple_artists
2025-10-31 20:42:28 [info     ] Registered tool: get_artist_tracks
2025-10-31 20:42:28 [info     ] Initialized RecoBeat service with all tools
2025-10-31 20:42:28 [info     ] Registered tool: get_track_recommendations
2025-10-31 20:42:28 [info     ] Registered tool: get_multiple_tracks
2025-10-31 20:42:28 [info     ] Registered tool: get_track_audio_features
2025-10-31 20:42:28 [info     ] Registered tool: search_artists
2025-10-31 20:42:28 [info     ] Registered tool: get_multiple_artists
2025-10-31 20:42:28 [info     ] Registered tool: get_artist_tracks
2025-10-31 20:42:28 [info     ] Initialized RecoBeat service with all tools
2025-10-31 20:42:28 [info     ] Registered tool: get_user_top_tracks
2025-10-31 20:42:28 [info     ] Registered tool: get_user_top_artists
2025-10-31 20:42:28 [info     ] Registered tool: create_playlist
2025-10-31 20:42:28 [info     ] Registered tool: add_tracks_to_playlist
2025-10-31 20:42:28 [info     ] Registered tool: get_user_profile
2025-10-31 20:42:28 [info     ] Registered tool: search_spotify_artists
2025-10-31 20:42:28 [info     ] Registered tool: get_several_spotify_artists
2025-10-31 20:42:28 [info     ] Registered tool: get_artist_top_tracks
2025-10-31 20:42:28 [info     ] Registered tool: search_spotify_tracks
2025-10-31 20:42:28 [info     ] Initialized Spotify service with all tools
2025-10-31 20:42:28 [info     ] Registered tool: get_user_top_tracks
2025-10-31 20:42:28 [info     ] Registered tool: get_user_top_artists
2025-10-31 20:42:28 [info     ] Registered tool: create_playlist
2025-10-31 20:42:28 [info     ] Registered tool: add_tracks_to_playlist
2025-10-31 20:42:28 [info     ] Registered tool: get_user_profile
2025-10-31 20:42:28 [info     ] Registered tool: search_spotify_artists
2025-10-31 20:42:28 [info     ] Registered tool: get_several_spotify_artists
2025-10-31 20:42:28 [info     ] Registered tool: get_artist_top_tracks
2025-10-31 20:42:28 [info     ] Registered tool: search_spotify_tracks
2025-10-31 20:42:28 [info     ] Initialized Spotify service with all tools
2025-10-31 20:42:29 [info     ] Starting application           app_name='MoodList API' environment=development
2025-10-31 20:42:29 [info     ] Initializing cache manager with Valkey redis_url=redis://moodlist-pnjt1x.serverless.apse2.cache.amazonaws.com:6379
2025-10-31 20:42:29 [info     ] Using Valkey/Redis cache at redis://moodlist-pnjt1x.serverless.apse2.cache.amazonaws.com:6379
2025-10-31 20:42:29 [info     ] Starting application           app_name='MoodList API' environment=development
2025-10-31 20:42:29 [info     ] Initializing cache manager with Valkey redis_url=redis://moodlist-pnjt1x.serverless.apse2.cache.amazonaws.com:6379
2025-10-31 20:42:29 [info     ] Using Valkey/Redis cache at redis://moodlist-pnjt1x.serverless.apse2.cache.amazonaws.com:6379
2025-10-31 20:42:39 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4754 method=OPTIONS repository=InvocationRepository status_code=200
2025-10-31 20:42:40 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4755 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:52822 - "OPTIONS /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&search=Notorius+BIG&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:42:40 [debug    ] Looking up session             session_token=j9QiIIQpt_...
INFO:     127.0.0.1:52818 - "OPTIONS /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&search=Notorius&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:42:40 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 20:42:41 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 20:42:41 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 20:42:41 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 20:42:41 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 20:42:41 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 20:42:41 [debug    ] User from session              found=True
2025-10-31 20:42:42 [debug    ] User playlists retrieved with filters count=0 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query='Notorius BIG' skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 20:42:42 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4756 method=OPTIONS repository=InvocationRepository status_code=200
2025-10-31 20:42:42 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 20:42:42 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 20:42:42 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 20:42:42 [debug    ] Getting user from session      session_id=11 user_id=1
INFO:     127.0.0.1:52828 - "OPTIONS /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&search=Notorius+B&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:42:42 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 20:42:43 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 20:42:43 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 20:42:43 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 20:42:43 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 20:42:43 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 20:42:43 [debug    ] User from session              found=True
2025-10-31 20:42:43 [debug    ] User playlists counted with filters count=0 include_deleted=False repository=PlaylistRepository search_query='Notorius BIG' status=None user_id=1
2025-10-31 20:42:43 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 20:42:43 [debug    ] User from session              found=True
2025-10-31 20:42:44 [debug    ] User playlists retrieved with filters count=0 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query='Notorius B' skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 20:42:44 [debug    ] User playlists retrieved with filters count=0 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=Notorius skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 20:42:46 [debug    ] User playlists counted with filters count=0 include_deleted=False repository=PlaylistRepository search_query='Notorius B' status=None user_id=1
2025-10-31 20:42:46 [debug    ] User playlists counted with filters count=0 include_deleted=False repository=PlaylistRepository search_query=Notorius status=None user_id=1
2025-10-31 20:42:48 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4757 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:52838 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&search=Notorius+BIG&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:42:49 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4758 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:52848 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&search=Notorius&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:42:49 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4759 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:52862 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&search=Notorius+B&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:43:15 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 20:43:15 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 20:43:15 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 20:43:15 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 20:43:15 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 20:43:15 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 20:43:16 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 20:43:16 [debug    ] User from session              found=True
2025-10-31 20:43:16 [debug    ] User playlists retrieved with filters count=0 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=Notorius skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 20:43:16 [debug    ] User playlists counted with filters count=0 include_deleted=False repository=PlaylistRepository search_query=Notorius status=None user_id=1
2025-10-31 20:43:17 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 20:43:17 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 20:43:17 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 20:43:17 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 20:43:18 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 20:43:18 [debug    ] User from session              found=True
2025-10-31 20:43:19 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4760 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:42884 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&search=Notorius&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:43:22 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 20:43:23 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 20:43:24 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4761 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:42896 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:43:25 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4762 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:38284 - "OPTIONS /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&search=California+Lov&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:43:25 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 20:43:26 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 20:43:26 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 20:43:26 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 20:43:26 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 20:43:26 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 20:43:26 [debug    ] User from session              found=True
2025-10-31 20:43:27 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query='California Lov' skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 20:43:27 [debug    ] User playlists counted with filters count=12 include_deleted=False repository=PlaylistRepository search_query='California Lov' status=None user_id=1
2025-10-31 20:43:27 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4763 method=OPTIONS repository=InvocationRepository status_code=200
2025-10-31 20:43:28 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4764 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:38300 - "OPTIONS /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&search=California+Love&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:43:28 [debug    ] Looking up session             session_token=j9QiIIQpt_...
INFO:     127.0.0.1:42896 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&search=California+Lov&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:43:29 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 20:43:29 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 20:43:29 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 20:43:29 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 20:43:29 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 20:43:29 [debug    ] User from session              found=True
2025-10-31 20:43:30 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query='California Love' skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 20:43:30 [debug    ] User playlists counted with filters count=12 include_deleted=False repository=PlaylistRepository search_query='California Love' status=None user_id=1
2025-10-31 20:43:31 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4765 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:38316 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&search=California+Love&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:50:09 [debug    ] Invocation log created         endpoint=/api/auth/verify invocation_id=4767 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:56722 - "OPTIONS /api/auth/verify HTTP/1.1" 200 OK
2025-10-31 20:50:13 [debug    ] Valid session with user retrieved repository=SessionRepository session_token=j9QiIIQp... user_id=1
2025-10-31 20:50:13 [debug    ] Auth verification successful   session_id=11 spotify_id=085692333065 user_id=1
2025-10-31 20:50:14 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4766 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:56736 - "OPTIONS /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:50:14 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 20:50:15 [debug    ] Invocation log created         endpoint=/api/auth/verify invocation_id=4768 method=GET repository=InvocationRepository status_code=200
2025-10-31 20:50:15 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 20:50:15 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 20:50:15 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 20:50:15 [debug    ] Getting user from session      session_id=11 user_id=1
INFO:     127.0.0.1:56056 - "GET /api/auth/verify HTTP/1.1" 200 OK
2025-10-31 20:50:16 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 20:50:16 [debug    ] User from session              found=True
2025-10-31 20:50:18 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 20:50:19 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 20:50:23 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4769 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:56064 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:56:08 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4770 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:38524 - "OPTIONS /api/playlists?limit=12&offset=12&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 20:56:09 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 20:56:11 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 20:56:11 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 20:56:11 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 20:56:11 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 20:56:11 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 20:56:11 [debug    ] User from session              found=True
2025-10-31 20:56:12 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=12 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 20:56:12 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 20:56:17 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4771 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:43690 - "GET /api/playlists?limit=12&offset=12&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:01:12 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4772 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:47118 - "OPTIONS /api/playlists?limit=12&offset=24&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:01:12 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:01:13 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:01:13 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:01:13 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:01:13 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:01:13 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:01:13 [debug    ] User from session              found=True
2025-10-31 21:01:15 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=24 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 21:01:15 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:01:16 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4773 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:47134 - "GET /api/playlists?limit=12&offset=24&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:05:50 [debug    ] Public playlist stats retrieved completed_playlists=76 repository=PlaylistRepository total_playlists=92 total_users=1
2025-10-31 21:05:51 [debug    ] Invocation log created         endpoint=/api/stats/public invocation_id=4774 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:56094 - "GET /api/stats/public HTTP/1.1" 200 OK
2025-10-31 21:05:53 [debug    ] Public playlist stats retrieved completed_playlists=76 repository=PlaylistRepository total_playlists=92 total_users=1
2025-10-31 21:05:55 [debug    ] Invocation log created         endpoint=/api/stats/public invocation_id=4775 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:56094 - "GET /api/stats/public HTTP/1.1" 200 OK
2025-10-31 21:08:47 [debug    ] Public playlist stats retrieved completed_playlists=76 repository=PlaylistRepository total_playlists=92 total_users=1
2025-10-31 21:08:49 [debug    ] Invocation log created         endpoint=/api/auth/verify invocation_id=4776 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:56900 - "OPTIONS /api/auth/verify HTTP/1.1" 200 OK
2025-10-31 21:08:50 [debug    ] Invocation log created         endpoint=/api/stats/public invocation_id=4778 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:56906 - "GET /api/stats/public HTTP/1.1" 200 OK
2025-10-31 21:08:51 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4777 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:56910 - "OPTIONS /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:08:51 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:08:51 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:08:51 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:08:51 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:08:51 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:08:52 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:08:52 [debug    ] User from session              found=True
2025-10-31 21:08:52 [debug    ] Valid session with user retrieved repository=SessionRepository session_token=j9QiIIQp... user_id=1
2025-10-31 21:08:52 [debug    ] Auth verification successful   session_id=11 spotify_id=085692333065 user_id=1
2025-10-31 21:08:54 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 21:08:54 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:08:56 [debug    ] Invocation log created         endpoint=/api/auth/verify invocation_id=4779 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:56922 - "GET /api/auth/verify HTTP/1.1" 200 OK
2025-10-31 21:08:58 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4780 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:51308 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:09:06 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4781 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:47880 - "OPTIONS /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=name&sort_order=asc HTTP/1.1" 200 OK
2025-10-31 21:09:06 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:09:09 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:09:09 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:09:09 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:09:09 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:09:09 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:09:09 [debug    ] User from session              found=True
2025-10-31 21:09:11 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=0 sort_by=name sort_order=asc status=None user_id=1
2025-10-31 21:09:11 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:09:15 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4782 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:47886 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=name&sort_order=asc HTTP/1.1" 200 OK
2025-10-31 21:09:27 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4783 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:46278 - "OPTIONS /api/playlists?limit=12&offset=12&exclude_statuses=failed%2Ccancelled&sort_by=name&sort_order=asc HTTP/1.1" 200 OK
2025-10-31 21:09:27 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:09:28 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:09:28 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:09:28 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:09:28 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:09:29 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:09:29 [debug    ] User from session              found=True
2025-10-31 21:09:37 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=12 sort_by=name sort_order=asc status=None user_id=1
2025-10-31 21:09:38 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:09:41 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4784 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:44926 - "GET /api/playlists?limit=12&offset=12&exclude_statuses=failed%2Ccancelled&sort_by=name&sort_order=asc HTTP/1.1" 200 OK
2025-10-31 21:10:30 [debug    ] Auth verification cache hit    session_token=j9QiIIQp...
2025-10-31 21:10:30 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:10:31 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:10:31 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:10:31 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:10:31 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:10:31 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:10:31 [debug    ] User from session              found=True
2025-10-31 21:10:32 [debug    ] Invocation log created         endpoint=/api/auth/verify invocation_id=4785 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:53904 - "GET /api/auth/verify HTTP/1.1" 200 OK
2025-10-31 21:10:34 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 21:10:34 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:10:35 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4786 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:53910 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:17:38 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:17:38 [debug    ] Auth verification cache hit    session_token=j9QiIIQp...
2025-10-31 21:17:40 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:17:40 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:17:40 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:17:40 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:17:40 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:17:40 [debug    ] User from session              found=True
2025-10-31 21:17:41 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 21:17:41 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:17:42 [debug    ] Invocation log created         endpoint=/api/auth/verify invocation_id=4787 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:34138 - "GET /api/auth/verify HTTP/1.1" 200 OK
2025-10-31 21:17:44 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4788 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:34130 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:19:49 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4789 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:37356 - "OPTIONS /api/playlists?limit=12&offset=12&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:19:49 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:19:49 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:19:49 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:19:49 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:19:49 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:19:50 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:19:50 [debug    ] User from session              found=True
2025-10-31 21:19:50 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=12 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 21:19:50 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:19:52 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4790 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:37370 - "GET /api/playlists?limit=12&offset=12&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:23:57 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4792 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:42080 - "OPTIONS /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:23:57 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:23:58 [debug    ] Invocation log created         endpoint=/api/auth/verify invocation_id=4791 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:42082 - "OPTIONS /api/auth/verify HTTP/1.1" 200 OK
2025-10-31 21:23:58 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:23:58 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:23:58 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:23:58 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:23:58 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:23:58 [debug    ] User from session              found=True
2025-10-31 21:23:59 [debug    ] Valid session with user retrieved repository=SessionRepository session_token=j9QiIIQp... user_id=1
2025-10-31 21:23:59 [debug    ] Auth verification successful   session_id=11 spotify_id=085692333065 user_id=1
2025-10-31 21:23:59 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 21:23:59 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:24:01 [debug    ] Invocation log created         endpoint=/api/auth/verify invocation_id=4793 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:42108 - "GET /api/auth/verify HTTP/1.1" 200 OK
2025-10-31 21:24:02 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4794 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:42092 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:24:36 [debug    ] Invocation log created         endpoint=/api/auth/quota invocation_id=4795 method=OPTIONS repository=InvocationRepository status_code=200
INFO:     127.0.0.1:48436 - "OPTIONS /api/auth/quota HTTP/1.1" 200 OK
2025-10-31 21:24:37 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:24:37 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:24:37 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:24:37 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:24:37 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:24:37 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:24:37 [debug    ] User from session              found=True
2025-10-31 21:24:38 [debug    ] User playlists created today counted count=13 repository=PlaylistRepository start_of_today=2025-10-31T00:00:00+00:00 user_id=1
2025-10-31 21:24:38 [debug    ] Quota status retrieved         limit=5 remaining=0 used=13 user_id=1
2025-10-31 21:24:39 [debug    ] Invocation log created         endpoint=/api/auth/quota invocation_id=4796 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:48444 - "GET /api/auth/quota HTTP/1.1" 200 OK
2025-10-31 21:24:40 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:24:41 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:24:41 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:24:41 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:24:41 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:24:41 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:24:41 [debug    ] User from session              found=True
2025-10-31 21:24:41 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 21:24:42 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:24:43 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4797 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:48444 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:24:43 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:24:43 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:24:43 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:24:43 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:24:43 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:24:43 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:24:43 [debug    ] User from session              found=True
2025-10-31 21:24:44 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 21:24:44 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:24:45 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4798 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:48444 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:32:11 [debug    ] Auth verification cache hit    session_token=j9QiIIQp...
2025-10-31 21:32:13 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:32:13 [debug    ] Auth verification cache hit    session_token=j9QiIIQp...
2025-10-31 21:32:13 [debug    ] Looking up session             session_token=j9QiIIQpt_...
2025-10-31 21:32:14 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4799 method=OPTIONS repository=InvocationRepository status_code=200
2025-10-31 21:32:14 [debug    ] Invocation log created         endpoint=/api/auth/verify invocation_id=4800 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:37778 - "OPTIONS /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled HTTP/1.1" 200 OK
2025-10-31 21:32:15 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:32:15 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:32:15 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:32:15 [debug    ] Getting user from session      session_id=11 user_id=1
2025-10-31 21:32:15 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:32:15 [debug    ] User from session              found=True
2025-10-31 21:32:16 [debug    ] Invocation log created         endpoint=/api/auth/verify invocation_id=4801 method=GET repository=InvocationRepository status_code=200
2025-10-31 21:32:16 [debug    ] Valid session retrieved by token repository=SessionRepository session_token=j9QiIIQp...
2025-10-31 21:32:16 [debug    ] Session found                  expires_at=datetime.datetime(2025, 11, 1, 13, 22, 24, 704305, tzinfo=datetime.timezone.utc) session_id=11 user_id=1
2025-10-31 21:32:16 [debug    ] require_auth called            has_session=True has_user=False
2025-10-31 21:32:16 [debug    ] Getting user from session      session_id=11 user_id=1
INFO:     127.0.0.1:37792 - "GET /api/auth/verify HTTP/1.1" 200 OK
2025-10-31 21:32:16 [debug    ] Active user retrieved by ID    repository=UserRepository user_id=1
2025-10-31 21:32:16 [debug    ] User from session              found=True
2025-10-31 21:32:16 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 21:32:17 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:32:18 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4802 method=GET repository=InvocationRepository status_code=200
INFO:     127.0.0.1:37804 - "GET /api/playlists?limit=12&offset=0&exclude_statuses=failed%2Ccancelled&sort_by=created_at&sort_order=desc HTTP/1.1" 200 OK
2025-10-31 21:32:20 [debug    ] User playlists retrieved with filters count=12 exclude_statuses=['failed', 'cancelled'] limit=12 repository=PlaylistRepository search_query=None skip=0 sort_by=created_at sort_order=desc status=None user_id=1
2025-10-31 21:32:20 [debug    ] User playlists counted with filters count=75 include_deleted=False repository=PlaylistRepository search_query=None status=None user_id=1
2025-10-31 21:32:21 [debug    ] Invocation log created         endpoint=/api/playlists invocation_id=4803 method=GET repository=InvocationRepository status_code=200
